mixin pagination(numPages, page, base)
  - numPages = Number(numPages) || 10
  - page     = Number(page)     || 1
  - base     = base             || '#' 
  .w3-bar
    - if(page!=1) 
      a(href=`${base}?page=${page-1}`).w3-button <<
    - for(var i=1;i<=numPages;i++) {
      - if(i==page)
        a(href=`${base}?page=${i}`).w3-button.w3-green #{i}
      - else
        a(href=`${base}?page=${i}`).w3-button #{i}
    -}
    - if(page!=numPages) 
      a(href=`${base}?page=${page+1}`).w3-button >>

html
  head
    title Mobile Ticket Viewer
    style
      include styles/w3.css
      include styles/zendesk.css
  body
    div.container
      h1 Mobile Ticket Viewer
      h3 #{count} total tickets, #{pageLength} on this page
      table
        thead
          tr
            td ID
            td Subject
        tbody
          each ticket in tickets
            tr
              td= ticket.id
              td
                a(href=`/tickets/${ticket.id}?page=${page}`)= ticket.subject
      +pagination(numPages,page,'/tickets/')



